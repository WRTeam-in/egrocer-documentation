"use strict";(self.webpackChunkegroccer_docs=self.webpackChunkegroccer_docs||[]).push([[1434],{5096:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/fcm8-83f161ec01cc50771d8ca68233e08f7b.webp"},12040:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/fcm13-7efaa675bc2bfee97e7483646fdf2bec.webp"},13035:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/fcm9-ef9269ccecd0a5a4e6f5d8a8c8722d78.webp"},23882:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/fcm11-dbd611e57b238e6bc147e1a4de1b7228.webp"},25771:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/fcm12-626070334b5e9b636c16f6ee5665111a.webp"},27445:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/1-eeb245a40741b3f4e017ad2949464a7c.webp"},28149:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/fcm10-3b4dd5874fd0cc32b41d34f5d481d071.webp"},28453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>l});var t=n(96540);const s={},r=t.createContext(s);function o(e){const i=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:i},e.children)}},63806:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/fcm6-5f3ac608ba6d076f3cc4bec21d90fbf2.webp"},71858:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"flutter-partner-app/firebase-integration","title":"Firebase Integration","description":"Create Flutter Firebase App","source":"@site/docs/flutter-partner-app/firebase-integration.md","sourceDirName":"flutter-partner-app","slug":"/flutter-partner-app/firebase-integration","permalink":"/egrocer-documentation/docs/flutter-partner-app/firebase-integration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"Map & Location Services","permalink":"/egrocer-documentation/docs/flutter-partner-app/map-location-services"},"next":{"title":"App Distribution","permalink":"/egrocer-documentation/docs/flutter-partner-app/app-distribution"}}');var s=n(74848),r=n(28453);const o={sidebar_position:5},l="Firebase Integration",c={},a=[{value:"Create Flutter Firebase App",id:"create-flutter-firebase-app",level:2},{value:"Steps to Create Firebase App",id:"steps-to-create-firebase-app",level:3},{value:"Set Up Push Notifications",id:"set-up-push-notifications",level:2},{value:"iOS Configuration",id:"ios-configuration",level:3},{value:"Setting Up APNs for iOS",id:"setting-up-apns-for-ios",level:3},{value:"For Token-based (.p8)",id:"for-token-based-p8",level:4},{value:"For Certificate-based (.p12)",id:"for-certificate-based-p12",level:4}];function d(e){const i={a:"a",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"firebase-integration",children:"Firebase Integration"})}),"\n",(0,s.jsx)(i.h2,{id:"create-flutter-firebase-app",children:"Create Flutter Firebase App"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"For creating a firebase app from flutter, you must install firebase cli first."})}),"\n",(0,s.jsxs)(i.p,{children:["To install firebase cli, follow ",(0,s.jsx)(i.a,{href:"https://firebase.google.com/docs/cli",children:"https://firebase.google.com/docs/cli"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Important Notes:"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"You need to add Partner app in eGrocer customer's firebase project only, otherwise FCM notification will not work."}),"\n",(0,s.jsx)(i.li,{children:"After firebase cli installation, follow these steps:"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"steps-to-create-firebase-app",children:"Steps to Create Firebase App"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Create flutter app:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:'Press "Flutter" option'}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Flutter Option",src:n(63806).A+"",width:"994",height:"515"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Press next"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Press Next",src:n(74841).A+"",width:"586",height:"595"})}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:'Go to Android Studio terminal and run "firebase login" command:'}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:'Allow Firebase to collect CLI and Emulator Suite usage and error reporting information? Set "YES" and press enter'}),"\n",(0,s.jsx)(i.li,{children:"Login to firebase from the browser when prompted"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Firebase Login",src:n(5096).A+"",width:"684",height:"475"})}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Run the first command shown in the Firebase console in Android Studio terminal:"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"First Command",src:n(13035).A+"",width:"814",height:"648"})}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Run the second command shown in the Firebase console in Android Studio terminal:"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Second Command",src:n(28149).A+"",width:"814",height:"648"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:'Once output is shown, press "Enter" in terminal'}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Press Enter",src:n(23882).A+"",width:"893",height:"473"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:'When prompted again, press "y" in terminal'}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Press Y",src:n(25771).A+"",width:"1483",height:"404"})}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Press continue in the Firebase console"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Continue",src:n(12040).A+"",width:"805",height:"657"})}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:'Press "continue to console"'}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Continue to Console",src:n(73953).A+"",width:"835",height:"797"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Your firebase setup is now complete."}),"\n",(0,s.jsx)(i.h2,{id:"set-up-push-notifications",children:"Set Up Push Notifications"}),"\n",(0,s.jsx)(i.h3,{id:"ios-configuration",children:"iOS Configuration"}),"\n",(0,s.jsx)(i.p,{children:"For iOS, you need to perform these additional steps:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"In Xcode, open the project"}),"\n",(0,s.jsx)(i.li,{children:"In the Project Navigator (the left-hand menu), select the project icon that represents your app"}),"\n",(0,s.jsx)(i.li,{children:"In the top-left corner of the right-hand pane in Xcode, select your app's target"}),"\n",(0,s.jsx)(i.li,{children:"Navigate to the Capabilities tab"}),"\n",(0,s.jsx)(i.li,{children:"Enable Push Notifications"}),"\n",(0,s.jsx)(i.li,{children:"Check Remote Notifications and Background Fetch from Enabling Background Modes"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"iOS Configuration",src:n(27445).A+"",width:"1181",height:"797"})}),"\n",(0,s.jsx)(i.h3,{id:"setting-up-apns-for-ios",children:"Setting Up APNs for iOS"}),"\n",(0,s.jsx)(i.p,{children:"APNs (Apple's Push Notification service) currently supports two types of connections: token-based (.p8) and certificate-based (.p12). You can follow either one of them:"}),"\n",(0,s.jsx)(i.h4,{id:"for-token-based-p8",children:"For Token-based (.p8)"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Log in to the Apple Developer Portal"}),"\n",(0,s.jsx)(i.li,{children:"Navigate to Certificates, IDs & Profiles > Identifiers > App IDs and click the App ID associated with your app"}),"\n",(0,s.jsx)(i.li,{children:"On the screen for your App ID, check Capabilities > Push Notifications"}),"\n",(0,s.jsx)(i.li,{children:"Select App ID in next page & click continue"}),"\n",(0,s.jsxs)(i.li,{children:["Create Development SSL Certificate & Production SSL Certificate by adding CSR certificate. Follow Apple's ",(0,s.jsx)(i.a,{href:"https://help.apple.com/developer-account/",children:"Create a certificate signing request instructions"})]}),"\n",(0,s.jsx)(i.li,{children:"Navigate to Certificates, IDs & Profiles > Keys Section and add a Universal key for Notifications, which you can use for more than one app as well"}),"\n",(0,s.jsx)(i.li,{children:"Save and Download & keep it safe, as it will be downloaded only once"}),"\n",(0,s.jsx)(i.li,{children:"Then go to Firebase and add this .p8 file along with Your Key ID and Team ID"}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"for-certificate-based-p12",children:"For Certificate-based (.p12)"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Log in to the Apple Developer Portal"}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Navigate to Certificates, IDs & Profiles > Identifiers > App IDs and click the App ID associated with your app"}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"On the screen for your App ID, check Capabilities > Push Notifications"}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Click Save and respond to the Modify App Capabilities dialog box that appears"}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"To create the certificate:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["In a new browser tab, follow Apple's ",(0,s.jsx)(i.a,{href:"https://help.apple.com/developer-account/#/devbfa00fef7",children:"Create a certificate signing request instructions"})]}),"\n",(0,s.jsx)(i.li,{children:"In the Apple Developer Portal, navigate back to your App ID"}),"\n",(0,s.jsx)(i.li,{children:"Click Capabilities > Push Notifications > Configure"}),"\n",(0,s.jsxs)(i.li,{children:["Click one of the following buttons:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Development SSL Certificate > Create Certificate (for testing)"}),"\n",(0,s.jsx)(i.li,{children:"Production SSL Certificate > Create Certificate (for production)"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"Click Choose File and select the certificate signing request you created"}),"\n",(0,s.jsx)(i.li,{children:"Click Continue"}),"\n",(0,s.jsx)(i.li,{children:"Click Download to download the certificate"}),"\n",(0,s.jsx)(i.li,{children:"Use this file to export a .p12 file in the next step"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Navigate in the Apple Developer Portal to Certificates, IDs & Profiles > Provisioning Profiles"}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Click the provisioning profile you'd like to edit"}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Edit the provisioning profile as necessary, and click Save"}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Click Download, and double-click the downloaded provisioning profile to install it"}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Export the downloaded certificate (.cer file) as a .p12 file:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"On your Mac, double-click the .cer file to open it in Keychain Access"}),"\n",(0,s.jsx)(i.li,{children:"In Keychain Access, select Category > Certificates"}),"\n",(0,s.jsx)(i.li,{children:"Select the certificate to export"}),"\n",(0,s.jsx)(i.li,{children:"Choose File > Export Items"}),"\n",(0,s.jsx)(i.li,{children:"Enter a name in the Save As field"}),"\n",(0,s.jsx)(i.li,{children:"Accept the default .p12 file format and click Save"}),"\n",(0,s.jsx)(i.li,{children:"Enter a password for the file if necessary"}),"\n",(0,s.jsx)(i.li,{children:"Upload this file to firebase"}),"\n"]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},73953:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/fcm14-ec1be63fc790e56de341426f6983968c.webp"},74841:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/fcm7-765e9dc478d70c1d622c6353b706f47a.webp"}}]);